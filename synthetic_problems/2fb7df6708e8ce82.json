{
  "uid": "2fb7df6708e8ce82",
  "annotations": {
    "example": "good",
    "code": "good"
  },
  "metadata": {
    "source_file": "self_instruct_remix1_fewshot_4_gpt-4o_temp1.00_maxtokens2048_rng1_briefcommon_generated_problems.jsonl"
  },
  "examples": [
    {
      "input": [
        [
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          1,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          1,
          0
        ],
        [
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          2,
          5,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          1,
          0,
          0
        ],
        [
          0,
          0,
          3,
          0,
          5,
          3,
          0,
          3,
          0,
          1
        ],
        [
          0,
          0,
          0,
          0,
          5,
          0,
          1,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0,
          1
        ],
        [
          2,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0,
          0
        ]
      ],
      "output": [
        [
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          1,
          1,
          1
        ],
        [
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          1,
          1
        ],
        [
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          2,
          2,
          5,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          1,
          1,
          1
        ],
        [
          0,
          0,
          3,
          0,
          5,
          3,
          0,
          3,
          0,
          1
        ],
        [
          0,
          0,
          0,
          0,
          5,
          0,
          1,
          1,
          1,
          1
        ],
        [
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0,
          1
        ],
        [
          2,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0,
          0
        ]
      ]
    },
    {
      "input": [
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          1,
          0
        ],
        [
          0,
          2,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          1,
          0,
          0,
          0
        ],
        [
          2,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          3,
          5,
          0,
          1,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          1
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          1
        ],
        [
          0,
          3,
          0,
          0,
          0,
          5,
          3,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          1,
          0,
          0
        ]
      ],
      "output": [
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          1,
          1
        ],
        [
          2,
          2,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          1,
          1,
          1,
          1
        ],
        [
          2,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          3,
          5,
          0,
          1,
          1,
          1
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          1
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          1
        ],
        [
          0,
          3,
          0,
          0,
          0,
          5,
          3,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          1,
          1,
          1
        ]
      ]
    },
    {
      "input": [
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          1,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          1
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          2,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          1,
          0,
          0
        ],
        [
          2,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          3
        ],
        [
          0,
          0,
          2,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          3,
          1
        ]
      ],
      "output": [
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          1,
          1
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          1
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          2,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          1,
          1,
          1
        ],
        [
          2,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          3
        ],
        [
          2,
          2,
          2,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          5,
          0,
          0,
          3,
          1
        ]
      ]
    },
    {
      "input": [
        [
          0,
          0,
          0,
          5,
          0,
          0,
          1,
          0,
          0,
          0
        ],
        [
          0,
          2,
          0,
          5,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0,
          1,
          0
        ],
        [
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0,
          1,
          0
        ],
        [
          0,
          0,
          3,
          5,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          2,
          0,
          5,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          2,
          3,
          5,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          5,
          0,
          1,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          2,
          5,
          0,
          0,
          0,
          0,
          0,
          0
        ]
      ],
      "output": [
        [
          0,
          0,
          0,
          5,
          0,
          0,
          1,
          1,
          1,
          1
        ],
        [
          2,
          2,
          0,
          5,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0,
          1,
          1
        ],
        [
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0,
          1,
          1
        ],
        [
          0,
          0,
          3,
          5,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          5,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          0,
          5,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          3,
          5,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          5,
          0,
          1,
          1,
          1,
          1,
          1
        ],
        [
          2,
          2,
          2,
          5,
          0,
          0,
          0,
          0,
          0,
          0
        ]
      ]
    }
  ],
  "code": "from common import *\n\nimport numpy as np\nfrom typing import *\n\n# concepts:\n# magnetism, lines, pixel manipulation\n\n# description:\n# In the input grid, there is a horizontal grey line dividing the grid into two parts. There are randomly placed red and blue pixels placed above and below the grey line\n# respectivley. The task is to transform the grid by adding 'force field' lines: For each red pixel, attach a vertical line going upwards to the top edge, stopping only if a 'magnet' is encountered.\n# The lines should be of the same color as the red pixels. For each blue pixel, attach a vertical line going downwards to the bottom edge, stopping only if a 'magnet' is encountered.\n# The lines should be of the same color as the blue pixels.\n\ndef main(input_grid: np.ndarray) -> np.ndarray:\n    output_grid = np.copy(input_grid)\n    \n    grey_line = np.where(output_grid == Color.GREY)\n    if len(grey_line[0]) == 0:\n        return output_grid    # safeguard for no grey line present.\n    \n    grey_line_y = np.unique(grey_line[1])[0]\n    \n    red_pixels = np.where(output_grid == Color.RED)\n    blue_pixels = np.where(output_grid == Color.BLUE)\n    magnet_pixels = np.where(output_grid == Color.GREEN)\n    \n    # draw lines from the red pixels upwards, stopping at 'magnet' pixels\n    for i in range(len(red_pixels[0])):\n        x, y = red_pixels[0][i], red_pixels[1][i]\n        draw_line(output_grid, x, y, length=None, color=Color.RED, direction=(0, -1), stop_at_color=[Color.GREEN])\n\n    # draw lines from the blue pixels downwards\n    for i in range(len(blue_pixels[0])):\n        x, y = blue_pixels[0][i], blue_pixels[1][i]\n        draw_line(output_grid, x, y, length=None, color=Color.BLUE, direction=(0, 1), stop_at_color=[Color.GREEN])\n\n    return output_grid\n\n\ndef generate_input() -> np.ndarray:\n    n = m = 10\n    grid = np.zeros((n,m), dtype=int)\n    \n    row = np.random.randint(m//3, 2*(m//3))\n    grid[:, row] = Color.GREY\n    \n    # scatter red and blue pixels, ensuring no column has both a red and blue pixel\n    red_cols = np.random.choice(np.arange(m), size=np.random.randint(3, 7), replace=False)\n    blue_cols = np.random.choice(np.arange(m), size=np.random.randint(3,7), replace=False)\n    \n    while len(set(red_cols) & set(blue_cols)) > 0:\n        red_cols = np.random.choice(np.arange(m), size=np.random.randint(3, 7), replace=False)\n        blue_cols = np.random.choice(np.arange(m), size=np.random.randint(3,7), replace=False)\n    \n    for col in red_cols:\n        x_red = np.random.randint(0, row)\n        grid[col, x_red] = Color.RED\n    \n    for col in blue_cols:\n        x_blue = np.random.randint(row+1, m)\n        grid[col, x_blue] = Color.BLUE\n    \n    # scatter magnet pixels above or below red and blue pixels\n    num_magnets = np.random.randint(2, 6)\n    for _ in range(num_magnets):\n        if np.random.rand() < 0.5:\n            x_magnet = np.random.randint(0, row)\n            y_magnet = np.random.randint(0, m)\n        else:\n            x_magnet = np.random.randint(row+1, m)\n            y_magnet = np.random.randint(0, m)\n        grid[y_magnet, x_magnet] = Color.GREEN\n    \n    return grid"
}
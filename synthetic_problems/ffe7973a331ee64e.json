{
  "uid": "ffe7973a331ee64e",
  "annotations": {
    "example": "bad",
    "code": "bad"
  },
  "metadata": {
    "source_file": "self_instruct_remix1_fewshot_4_gpt-4o_temp1.00_maxtokens2048_rng0_briefcommon_generated_problems.jsonl"
  },
  "examples": [
    {
      "input": [
        [
          0,
          8,
          8,
          8,
          0,
          0,
          0,
          8,
          8,
          8,
          0,
          0,
          0
        ],
        [
          8,
          8,
          0,
          8,
          0,
          0,
          8,
          8,
          0,
          8,
          0,
          0,
          8
        ],
        [
          8,
          0,
          0,
          0,
          0,
          0,
          8,
          0,
          0,
          0,
          0,
          0,
          8
        ],
        [
          8,
          8,
          0,
          0,
          0,
          0,
          8,
          8,
          0,
          0,
          0,
          0,
          8
        ],
        [
          8,
          8,
          0,
          0,
          0,
          0,
          8,
          8,
          0,
          0,
          0,
          0,
          8
        ],
        [
          8,
          8,
          8,
          0,
          0,
          0,
          8,
          8,
          8,
          0,
          0,
          0,
          8
        ]
      ],
      "output": [
        [
          0,
          2,
          2,
          2,
          0,
          0,
          0,
          2,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          0,
          2,
          0,
          0,
          2,
          2,
          0,
          2,
          0,
          0,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          0,
          0,
          0,
          0,
          0,
          2,
          0,
          0,
          0,
          0,
          0,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          0,
          0,
          0,
          0,
          2,
          2,
          0,
          0,
          0,
          0,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          0,
          0,
          0,
          0,
          2,
          2,
          0,
          0,
          0,
          0,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          2,
          0,
          0,
          0,
          2,
          2,
          2,
          0,
          0,
          0,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ]
      ]
    },
    {
      "input": [
        [
          0,
          4,
          0,
          0,
          4,
          0,
          0,
          4,
          0,
          0,
          4,
          0
        ],
        [
          4,
          4,
          0,
          4,
          4,
          0,
          4,
          4,
          0,
          4,
          4,
          0
        ],
        [
          4,
          4,
          0,
          4,
          4,
          0,
          4,
          4,
          0,
          4,
          4,
          0
        ],
        [
          4,
          4,
          0,
          4,
          4,
          0,
          4,
          4,
          0,
          4,
          4,
          0
        ],
        [
          4,
          4,
          0,
          4,
          4,
          0,
          4,
          4,
          0,
          4,
          4,
          0
        ],
        [
          4,
          4,
          0,
          4,
          4,
          0,
          4,
          4,
          0,
          4,
          4,
          0
        ],
        [
          0,
          4,
          0,
          0,
          4,
          0,
          0,
          4,
          0,
          0,
          4,
          0
        ]
      ],
      "output": [
        [
          0,
          2,
          0,
          0,
          2,
          0,
          0,
          2,
          0,
          0,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          0,
          2,
          2,
          0,
          2,
          2,
          0,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          0,
          2,
          2,
          0,
          2,
          2,
          0,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          0,
          2,
          2,
          0,
          2,
          2,
          0,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          0,
          2,
          2,
          0,
          2,
          2,
          0,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          0,
          2,
          2,
          0,
          2,
          2,
          0,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          2,
          0,
          0,
          2,
          0,
          0,
          2,
          0,
          0,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ]
      ]
    },
    {
      "input": [
        [
          0,
          9,
          9,
          9,
          0,
          0,
          0,
          0,
          0,
          0,
          9,
          9,
          9,
          0
        ],
        [
          9,
          9,
          9,
          9,
          9,
          0,
          0,
          0,
          0,
          9,
          9,
          9,
          9,
          9
        ],
        [
          9,
          9,
          9,
          9,
          9,
          0,
          0,
          0,
          0,
          9,
          9,
          9,
          9,
          9
        ],
        [
          9,
          9,
          9,
          9,
          9,
          0,
          0,
          0,
          0,
          9,
          9,
          9,
          9,
          9
        ],
        [
          9,
          9,
          9,
          9,
          9,
          0,
          0,
          0,
          0,
          9,
          9,
          9,
          9,
          9
        ],
        [
          9,
          9,
          9,
          9,
          9,
          0,
          0,
          0,
          0,
          9,
          9,
          9,
          9,
          9
        ],
        [
          9,
          9,
          9,
          9,
          9,
          0,
          0,
          0,
          0,
          9,
          9,
          9,
          9,
          9
        ]
      ],
      "output": [
        [
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ]
      ]
    },
    {
      "input": [
        [
          6,
          6,
          6,
          6,
          6,
          6,
          0,
          0,
          6,
          6,
          6,
          6,
          6,
          6
        ],
        [
          6,
          6,
          6,
          6,
          6,
          6,
          0,
          0,
          6,
          6,
          6,
          6,
          6,
          6
        ],
        [
          6,
          6,
          0,
          6,
          6,
          6,
          0,
          0,
          6,
          6,
          0,
          6,
          6,
          6
        ],
        [
          6,
          6,
          0,
          6,
          6,
          6,
          0,
          0,
          6,
          6,
          0,
          6,
          6,
          6
        ],
        [
          6,
          6,
          0,
          6,
          6,
          0,
          0,
          0,
          6,
          6,
          0,
          6,
          6,
          0
        ]
      ],
      "output": [
        [
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ]
      ]
    }
  ],
  "code": "from common import *\n\nimport numpy as np\nfrom typing import *\n\n# concepts:\n# translational symmetry, symmetry detection, pattern extension, color change, objects\n\n# description:\n# In the input, you will see a grid consisting of a single colored sprite that is repeatedly translated horizontally, forming a line of the same sprite.\n# To create the output, find the repeated translational symmetry in the input. Extend the pattern by copying the sprite to the left and right, symmetrically, within a new grid with extended width. Finally, change the color of the original sprite pattern to a new color.\n\ndef main(input_grid):\n    # Detect translational symmetry in the input grid\n    symmetries = detect_translational_symmetry(input_grid, ignore_colors=[Color.BLACK])\n    assert len(symmetries) > 0, \"No translational symmetry found\"\n\n    # Determine the dimensions of the input grid\n    input_height, input_width = input_grid.shape\n    \n    # Create the output grid with extended width (double the input width)\n    output_width = input_width * 2\n    output_grid = np.full((input_height, output_width), Color.BLACK)\n    \n    # Copy the input pattern and extend the pattern horizontally\n    for x, y in np.argwhere(input_grid != Color.BLACK):\n        # Compute the orbit in the input grid\n        for x2, y2 in orbit(input_grid, x, y, symmetries):\n            output_grid[x][y2 % output_width] = input_grid[x, y]\n\n    # Change the color of the extended pattern to a new color\n    new_color = Color.RED\n    original_color = input_grid[input_grid != Color.BLACK][0]  # Assuming all non-background pixels are the same color\n    output_grid[output_grid == original_color] = new_color\n\n    return output_grid\n\ndef generate_input():\n    # Create a random sized grid with a horizontal pattern\n    input_height = np.random.randint(5, 8)\n    input_width = np.random.randint(10, 15)\n    grid = np.full((input_height, input_width), Color.BLACK)\n    \n    # Select a random color for the pattern\n    color = np.random.choice(list(Color.NOT_BLACK))\n    \n    # Create a random sprite pattern of a random length\n    sprite_length = np.random.randint(2, input_width // 2)\n    sprite = random_sprite(input_height, sprite_length, color_palette=[color], density=0.7)\n    \n    # Place the sprite in a horizontal line within the grid\n    horizontal_repeat_frequency = np.random.randint(1, sprite_length)\n    for i in range(0, input_width, sprite_length + horizontal_repeat_frequency):\n        grid[:, i:i+sprite_length] = sprite[:, :min(sprite_length, input_width - i)]\n    \n    return grid"
}
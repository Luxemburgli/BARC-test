{
  "uid": "e615aa45225a07e9",
  "annotations": {
    "example": "ok",
    "code": "ok"
  },
  "metadata": {
    "source_file": "self_instruct_remix1_fewshot_4_gpt-4o_temp1.00_maxtokens2048_rng3_briefcommon_generated_problems.jsonl"
  },
  "examples": [
    {
      "input": [
        [
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          2
        ],
        [
          0,
          0,
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          3,
          2,
          0,
          1,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          0,
          3,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          0,
          1,
          3,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          0,
          2,
          0,
          3,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          2,
          0,
          3
        ]
      ],
      "output": [
        [
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          3,
          0,
          0,
          0,
          2,
          1
        ],
        [
          0,
          0,
          0,
          0,
          0,
          3,
          0,
          2,
          0,
          2
        ],
        [
          0,
          0,
          0,
          0,
          0,
          2,
          2,
          0,
          2,
          0
        ],
        [
          0,
          0,
          0,
          0,
          2,
          2,
          0,
          2,
          0,
          2
        ],
        [
          0,
          0,
          0,
          2,
          2,
          1,
          0,
          0,
          2,
          0
        ],
        [
          0,
          0,
          2,
          2,
          1,
          0,
          0,
          0,
          0,
          3
        ]
      ]
    },
    {
      "input": [
        [
          3,
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          3,
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          1,
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          3,
          2,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          0,
          3,
          0,
          0,
          2
        ],
        [
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          3,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          2,
          0,
          0,
          0,
          3,
          0
        ],
        [
          1,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          3
        ]
      ],
      "output": [
        [
          3,
          0,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          2
        ],
        [
          0,
          0,
          0,
          0,
          3,
          0,
          0,
          0,
          2,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          3,
          0,
          2,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          2,
          2,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          2,
          2,
          0,
          3,
          2,
          0
        ],
        [
          0,
          0,
          0,
          2,
          0,
          0,
          0,
          2,
          3,
          0
        ],
        [
          0,
          0,
          2,
          0,
          0,
          0,
          2,
          0,
          0,
          3
        ]
      ]
    },
    {
      "input": [
        [
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          2
        ],
        [
          2,
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          3,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          1,
          0,
          3,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          3,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          3,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          3
        ]
      ],
      "output": [
        [
          3,
          0,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          2,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          2,
          0
        ],
        [
          0,
          0,
          0,
          3,
          0,
          0,
          0,
          2,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          3,
          0,
          2,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          2,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          1,
          0,
          3,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          1,
          0,
          0,
          0,
          3,
          0,
          0
        ],
        [
          0,
          0,
          1,
          0,
          1,
          0,
          0,
          0,
          3,
          0
        ],
        [
          0,
          1,
          0,
          1,
          0,
          0,
          0,
          0,
          0,
          3
        ]
      ]
    },
    {
      "input": [
        [
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          3,
          2,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          3,
          0,
          0,
          1,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          0,
          3,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          3,
          2,
          0
        ],
        [
          1,
          0,
          0,
          0,
          0,
          0,
          1,
          0,
          3,
          0
        ],
        [
          0,
          0,
          0,
          0,
          2,
          0,
          0,
          0,
          0,
          3
        ]
      ],
      "output": [
        [
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          0,
          0
        ],
        [
          0,
          0,
          0,
          0,
          3,
          0,
          0,
          0,
          0,
          1
        ],
        [
          0,
          0,
          0,
          0,
          2,
          3,
          0,
          0,
          1,
          0
        ],
        [
          0,
          0,
          0,
          2,
          0,
          0,
          3,
          2,
          0,
          0
        ],
        [
          0,
          0,
          2,
          0,
          0,
          0,
          2,
          3,
          0,
          0
        ],
        [
          0,
          2,
          0,
          0,
          0,
          2,
          0,
          2,
          3,
          0
        ],
        [
          2,
          0,
          0,
          0,
          0,
          1,
          2,
          0,
          0,
          3
        ]
      ]
    }
  ],
  "code": "from common import *\n\nimport numpy as np\nfrom typing import *\n\n# concepts:\n# magnetism, lines, boolean logical operations\n\n# description:\n# In the input, you will see a green diagonal line on a black background, with red and blue pixels scattered on either side of the line.\n# To make the output, draw lines from each of the blue and red pixels. Lines from blue pixels will go away from the diagonal line, and lines from red pixels will go towards the diagonal line.\n# If a line of the same color crosses another line of the same color, the part that overlaps is removed.\ndef main(input_grid):\n    n, m = input_grid.shape\n    output_grid = np.copy(input_grid)\n\n    def draw_and_check_overlap(output_grid, input_grid, x, y, dx, dy, color):\n        cur_x, cur_y = x, y\n        while 0 <= cur_x < n and 0 <= cur_y < m:\n            if output_grid[cur_x, cur_y] == color:\n                output_grid[cur_x, cur_y] = Color.BLACK  # Remove the overlapping part\n            else:\n                output_grid[cur_x, cur_y] = color\n            cur_x, cur_y = cur_x + dx, cur_y + dy\n\n    # find the green diagonal line\n    green_diagonal = np.where(input_grid == Color.GREEN)\n    \n    # find the red and blue pixels\n    red_pixels = np.where(input_grid == Color.RED)\n    blue_pixels = np.where(input_grid == Color.BLUE)\n\n    # draw lines from the red pixels toward the diagonal line\n    for i in range(len(red_pixels[0])):\n        x, y = red_pixels[0][i], red_pixels[1][i]\n        if x < y:\n            draw_and_check_overlap(output_grid, input_grid, x, y, 1, -1, Color.RED)\n        else:\n            draw_and_check_overlap(output_grid, input_grid, x, y, -1, 1, Color.RED)\n\n    # draw lines from the blue pixels away from the diagonal line\n    for i in range(len(blue_pixels[0])):\n        x, y = blue_pixels[0][i], blue_pixels[1][i]\n        if x < y:\n            draw_and_check_overlap(output_grid, input_grid, x, y, -1, 1, Color.BLUE)\n        else:\n            draw_and_check_overlap(output_grid, input_grid, x, y, 1, -1, Color.BLUE)\n\n    return output_grid\n\ndef generate_input():\n    n, m = 10, 10\n    grid = np.full((n, m), Color.BLACK)\n\n    # make a green diagonal line from the top-left to the bottom-right\n    for i in range(min(n, m)):\n        grid[i, i] = Color.GREEN\n\n    # scatter a random number of red and blue pixels on either side of the green line\n    for _ in range(np.random.randint(5, 10)):\n        x, y = np.random.randint(0, n), np.random.randint(0, m)\n        if (x != y):  # Ensure it's not on the green diagonal\n            grid[x, y] = np.random.choice([Color.RED, Color.BLUE])\n    \n    return grid"
}